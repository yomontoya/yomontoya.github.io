if(window.CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype.getImageData){var defaultOffsets={destX:0,destY:0,sourceX:0,sourceY:0,width:"auto",height:"auto"};CanvasRenderingContext2D.prototype.blendOnto=function(e,t,n){var a={};for(var o in defaultOffsets)defaultOffsets.hasOwnProperty(o)&&(a[o]=n&&n[o]||defaultOffsets[o]);"auto"==a.width&&(a.width=this.canvas.width),"auto"==a.height&&(a.height=this.canvas.height),a.width=Math.min(a.width,this.canvas.width-a.sourceX,e.canvas.width-a.destX),a.height=Math.min(a.height,this.canvas.height-a.sourceY,e.canvas.height-a.destY);for(var i,d,s,r,c,h,l,g,u,m,f=this.getImageData(a.sourceX,a.sourceY,a.width,a.height),p=e.getImageData(a.destX,a.destY,a.width,a.height),w=f.data,b=p.data,v=b.length,y=0;v>y;y+=4)switch(i=w[y+3]/255,d=b[y+3]/255,u=i+d-i*d,b[y+3]=255*u,s=w[y]/255*i,h=b[y]/255*d,r=w[y+1]/255*i,l=b[y+1]/255*d,c=w[y+2]/255*i,g=b[y+2]/255*d,m=255/u,t){case"normal":case"src-over":b[y]=(s+h-h*i)*m,b[y+1]=(r+l-l*i)*m,b[y+2]=(c+g-g*i)*m;break;case"screen":b[y]=(s+h-s*h)*m,b[y+1]=(r+l-r*l)*m,b[y+2]=(c+g-c*g)*m;break;case"multiply":b[y]=(s*h+s*(1-d)+h*(1-i))*m,b[y+1]=(r*l+r*(1-d)+l*(1-i))*m,b[y+2]=(c*g+c*(1-d)+g*(1-i))*m;break;case"difference":b[y]=(s+h-2*Math.min(s*d,h*i))*m,b[y+1]=(r+l-2*Math.min(r*d,l*i))*m,b[y+2]=(c+g-2*Math.min(c*d,g*i))*m;break;case"src-in":u=i*d,m=255/u,b[y+3]=255*u,b[y]=s*d*m,b[y+1]=r*d*m,b[y+2]=c*d*m;break;case"plus":case"add":u=Math.min(1,i+d),b[y+3]=255*u,m=255/u,b[y]=Math.min(s+h,1)*m,b[y+1]=Math.min(r+l,1)*m,b[y+2]=Math.min(c+g,1)*m;break;case"overlay":b[y]=.5>=h?2*w[y]*h/d:255-(2-2*h/d)*(255-w[y]),b[y+1]=.5>=l?2*w[y+1]*l/d:255-(2-2*l/d)*(255-w[y+1]),b[y+2]=.5>=g?2*w[y+2]*g/d:255-(2-2*g/d)*(255-w[y+2]);break;case"hardlight":b[y]=.5>=s?2*b[y]*s/d:255-(2-2*s/i)*(255-b[y]),b[y+1]=.5>=r?2*b[y+1]*r/d:255-(2-2*r/i)*(255-b[y+1]),b[y+2]=.5>=c?2*b[y+2]*c/d:255-(2-2*c/i)*(255-b[y+2]);break;case"colordodge":case"dodge":255==w[y]&&0==h?b[y]=255:b[y]=Math.min(255,b[y]/(255-w[y]))*m,255==w[y+1]&&0==l?b[y+1]=255:b[y+1]=Math.min(255,b[y+1]/(255-w[y+1]))*m,255==w[y+2]&&0==g?b[y+2]=255:b[y+2]=Math.min(255,b[y+2]/(255-w[y+2]))*m;break;case"colorburn":case"burn":0==w[y]&&0==h?b[y]=0:b[y]=(1-Math.min(1,(1-h)/s))*m,0==w[y+1]&&0==l?b[y+1]=0:b[y+1]=(1-Math.min(1,(1-l)/r))*m,0==w[y+2]&&0==g?b[y+2]=0:b[y+2]=(1-Math.min(1,(1-g)/c))*m;break;case"darken":case"darker":b[y]=(s>h?h:s)*m,b[y+1]=(r>l?l:r)*m,b[y+2]=(c>g?g:c)*m;break;case"lighten":case"lighter":b[y]=(h>s?h:s)*m,b[y+1]=(l>r?l:r)*m,b[y+2]=(g>c?g:c)*m;break;case"exclusion":b[y]=(h+s-2*h*s)*m,b[y+1]=(l+r-2*l*r)*m,b[y+2]=(g+c-2*g*c)*m;break;default:b[y]=b[y+3]=255,b[y+1]=y%8==0?255:0,b[y+2]=y%8==0?0:255}e.putImageData(p,a.destX,a.destY)};for(var modes=CanvasRenderingContext2D.prototype.blendOnto.supportedBlendModes="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken lighten exclusion".split(" "),supports=CanvasRenderingContext2D.prototype.blendOnto.supports={},i=0,len=modes.length;len>i;++i)supports[modes[i]]=!0}document.addEventListener("DOMContentLoaded",function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t={add:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},remove:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},has:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}};!function(){function n(){function e(){p.src="/img/logo.jpg",p.onload=function(){g.drawImage(this,0,0),g.blendOnto(f,"multiply",c),a()}}function n(){w.src="/img/montoya.jpg",w.onload=function(){u.drawImage(this,0,0),u.blendOnto(f,"multiply",{destX:Math.floor(window.innerWidth/2-o.width/2),destY:40}),a()}}function a(){s.getElement().width=1200,s.getElement().height=900,r.src=d.dataset.image,ctx_interference=s.getElement().getContext("2d"),r.onload=function(){}}var i=new Image,r=new Image;m.width=h,m.height=l,i.src=m.dataset.image,i.onload=function(){f.drawImage(this,0,0,h,l),t.has(document.body,"home")?e():n()}}var a=document.getElementById("logo-placeholder"),o=document.getElementById("logo-montoya-placeholder"),i={offset_top:150,offset_left:150,getTop:function(){return window.innerHeight<=400?50:Math.floor(window.innerHeight/2-this.offset_top)},getLeft:function(){return Math.floor(window.innerWidth/2-this.offset_left)},getElement:function(){return a},getCoordinates:function(){return{destX:this.getLeft(),destY:this.getTop()}}},d=document.getElementById("interference-placeholder"),s={getElement:function(){return d}},r={getRandomPause:function(){return e(2,4)},getRandomBlinking:function(){return e(1,3)},getRandomId:function(){return e(0,6)},getRandomInterferenceId:function(){return e(0,1)}},c=(r.getRandomPause(),r.getRandomBlinking(),i.getCoordinates()),h=document.body.clientWidth,l=document.body.scrollHeight,g=a.getContext("2d"),u=o.getContext("2d"),m=document.getElementById("background-animation"),f=m.getContext("2d"),p=new Image,w=new Image;console.log(h,l),a.width=269,a.height=132,o.width=152,o.height=65;window.addEventListener("resize",function(){c=i.getCoordinates(),h=document.body.clientWidth,l=document.body.scrollHeight,n()}),n();for(var b=document.querySelectorAll(".js-back-home"),v=0;v<b.length;v++)b[v].addEventListener("click",function(e){e.preventDefault();var n=document.getElementById("contact-box"),a=document.getElementById("live-box"),o=document.getElementById("content-box");t.remove(o,"hidden"),t.add(n,"hidden"),t.add(a,"hidden")})}()});