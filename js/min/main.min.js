!function(){function e(e){if(!e||"function"!=typeof e.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(e,"blendOnto",{value:t});for(var n=t.supportedBlendModes="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),o=t.supports={},a=n.length;a--;)o[n[a]]=!0;return t.aliases={"src-over":"normal",plus:"add",dodge:"colordodge",burn:"colorburn",darker:"darken",lighter:"lighten"},e}function t(e,t,o){function a(e,t){var n=t<<1;return 128>t?e*(n+(e*(255-n)>>8))>>8:e*(511-n)+Math.sqrt(e<<8)*(n-255)>>8}function r(e,t){return 128>e?e*t>>7:255-((255-t)*(255-e)>>7)}function i(e,t){return 255==t&&0==e?255:Math.min(255,(e<<8)/(255-t))}function d(e,t){return 255==t&&0==e?0:255-Math.min(255,(255-e<<8)/t)}function c(e,t,n){return{r:.299*e+.587*t+.114*n,g:-.1687*e-.3313*t+.5*n,b:.5*e-.4187*t-.0813*n}}function s(e,t,n){return{r:e+1.402*n,g:e-.3441*t-.7141*n,b:e+1.772*t}}function u(e,t,n){var o=c(e,t,n),a=Math.sqrt(o.g*o.g+o.b*o.b),r=Math.atan2(o.g,o.b);return{h:r,s:a,v:o.r}}function l(e,t,n){var o=t*Math.sin(e),a=t*Math.cos(e);return s(n,o,a)}var h={};for(var g in n)n.hasOwnProperty(g)&&(h[g]=o&&o[g]||n[g]);"auto"==h.width&&(h.width=this.canvas.width),"auto"==h.height&&(h.height=this.canvas.height),h.width=Math.min(h.width,this.canvas.width-h.sourceX,e.canvas.width-h.destX),h.height=Math.min(h.height,this.canvas.height-h.sourceY,e.canvas.height-h.destY);for(var m,f,b,v,y,p,w,k,E,I,M,x,L,B,C,R,H=this.getImageData(h.sourceX,h.sourceY,h.width,h.height),P=e.getImageData(h.destX,h.destY,h.width,h.height),Y=H.data,W=P.data,D=W.length,S=0;D>S;S+=4){m=Y[S+3]/255,f=W[S+3]/255,E=m+f-m*f,W[S+3]=255*E,I=W[S],M=W[S+1],x=W[S+2],L=Y[S],B=Y[S+1],C=Y[S+2],b=L/255*m,p=I/255*f,v=B/255*m,w=M/255*f,y=C/255*m,k=x/255*f,R=255/E;var X=f*m,T=f-X,_=m-X;switch(t){case"normal":case"src-over":W[S]=(b+p-p*m)*R,W[S+1]=(v+w-w*m)*R,W[S+2]=(y+k-k*m)*R;break;case"screen":W[S]=(b+p-b*p)*R,W[S+1]=(v+w-v*w)*R,W[S+2]=(y+k-y*k)*R;break;case"multiply":W[S]=(b*p+b*(1-f)+p*(1-m))*R,W[S+1]=(v*w+v*(1-f)+w*(1-m))*R,W[S+2]=(y*k+y*(1-f)+k*(1-m))*R;break;case"difference":W[S]=(b+p-2*Math.min(b*f,p*m))*R,W[S+1]=(v+w-2*Math.min(v*f,w*m))*R,W[S+2]=(y+k-2*Math.min(y*f,k*m))*R;break;case"src-in":E=m*f,R=255/E,W[S]=b*f*R,W[S+1]=v*f*R,W[S+2]=y*f*R,W[S+3]=255*E;break;case"plus":case"add":W[S]=Math.min(b+p,1)*R,W[S+1]=Math.min(v+w,1)*R,W[S+2]=Math.min(y+k,1)*R;break;case"overlay":W[S]=X*r(I,L)+T*I+_*L,W[S+1]=X*r(M,B)+T*M+_*B,W[S+2]=X*r(x,C)+T*x+_*C;break;case"hardlight":W[S]=X*r(L,I)+T*I+_*L,W[S+1]=X*r(B,M)+T*M+_*B,W[S+2]=X*r(C,x)+T*x+_*C;break;case"colordodge":case"dodge":W[S]=X*i(I,L)+T*I+_*L,W[S+1]=X*i(M,B)+T*M+_*B,W[S+2]=X*i(x,C)+T*x+_*C;break;case"colorburn":case"burn":W[S]=X*d(I,L)+T*I+_*L,W[S+1]=X*d(M,B)+T*M+_*B,W[S+2]=X*d(x,C)+T*x+_*C;break;case"darken":case"darker":W[S]=X*(L>I?I:L)+T*I+_*L,W[S+1]=X*(B>M?M:B)+T*M+_*B,W[S+2]=X*(C>x?x:C)+T*x+_*C;break;case"lighten":case"lighter":W[S]=(p>b?p:b)*R,W[S+1]=(w>v?w:v)*R,W[S+2]=(k>y?k:y)*R;break;case"exclusion":W[S]=(p+b-2*p*b)*R,W[S+1]=(w+v-2*w*v)*R,W[S+2]=(k+y-2*k*y)*R;break;case"softlight":W[S]=X*a(I,L)+T*I+_*L,W[S+1]=X*a(M,B)+T*M+_*B,W[S+2]=X*a(x,C)+T*x+_*C;break;case"luminosity":var O=c(I,M,x),j=c(L,B,C),q=s(j.r,O.g,O.b);W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;case"color":var O=c(I,M,x),j=c(L,B,C),q=s(O.r,j.g,j.b);W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;case"hue":var O=u(I,M,x),j=u(L,B,C),q=l(j.h,O.s,O.v);W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;case"saturation":var O=u(I,M,x),j=u(L,B,C),q=l(O.h,j.s,O.v);W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;case"lightercolor":var q=2.623*(I-L)+5.15*(M-B)+x-C>0?{r:I,g:M,b:x}:{r:L,g:B,b:C};W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;case"darkercolor":var q=0>2.623*(I-L)+5.15*(M-B)+x-C?{r:I,g:M,b:x}:{r:L,g:B,b:C};W[S]=X*q.r+T*I+_*L,W[S+1]=X*q.g+T*M+_*B,W[S+2]=X*q.b+T*x+_*C;break;default:var N=S/4%this.canvas.width,A=Math.floor(S/4/this.canvas.width),$=4>N%8&&4>A%8||N%8>3&&A%8>3;W[S]=W[S+3]=255,W[S+1]=$?255:0,W[S+2]=$?0:255}}e.putImageData(P,h.destX,h.destY)}var n={destX:0,destY:0,sourceX:0,sourceY:0,width:"auto",height:"auto"};if("function"==typeof require&&"object"==typeof module){var o=require("canvas");e(o.Context2d.prototype),module.exports=o}else e(this.CanvasRenderingContext2D&&this.CanvasRenderingContext2D.prototype)}(),document.addEventListener("DOMContentLoaded",function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t="/img/",n={add:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},remove:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},has:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}};!function(){function o(){function e(){y.src=t+"logo.jpg",y.onload=function(){m.drawImage(this,0,0),m.blendOnto(v,"multiply",l),r()}}function o(){p.src=t+"montoya.jpg",p.onload=function(){f.drawImage(this,0,0),f.blendOnto(v,"multiply",{destX:Math.floor(window.innerWidth/2-i.width/2),destY:40}),r()}}function r(){s.getElement().width=h,s.getElement().height=g,w.src=c.dataset.image,ctx_interference=s.getElement().getContext("2d"),w.onload=function(){}}function d(e){var n=new Image,o=new Image;r(),n.src=c.dataset.image,o.src=t+"interference-"+e+".jpg",c.dataset.image=t+"interference-"+e+".jpg",c.dataset.image_id=e,o.onload=function(){a(this,0,e),10>=e&&(e+=1,d(e))}}var u=new Image,w=new Image;if(b.width=h,b.height=g,u.src=b.dataset.image,u.onload=function(){v.drawImage(this,0,0,h,g),n.has(document.body,"home")?e():o()},n.has(document.body,"home")){var k=0;d(k)}}function a(e,t,n){setTimeout(function(){var t=1600/h,o=1200/g,a=0,r=0;o>t?(a=1600*g/1200,r=g):(a=h,r=1200*h/1600),ctx_interference.drawImage(e,0,0,a,r),console.log(n),10==n?ctx_interference.blendOnto(v,"darken",{destX:0,destY:0}):ctx_interference.blendOnto(v,"darken",{destX:h-a,destY:0})},t)}var r=document.getElementById("logo-placeholder"),i=document.getElementById("logo-montoya-placeholder"),d={offset_top:150,offset_left:135,getTop:function(){return window.innerHeight<=400?50:Math.floor(window.innerHeight/2-this.offset_top)},getLeft:function(){return Math.floor(window.innerWidth/2-this.offset_left)},getElement:function(){return r},getCoordinates:function(){return{destX:this.getLeft(),destY:this.getTop()}}},c=document.getElementById("interference-placeholder"),s={getElement:function(){return c}},u={getRandomShowCover:function(){return e(1,2)},getRandomCoverPause:function(){return e(3,7)},getRandomPause:function(){return e(2,4)},getRandomBlinking:function(){return e(1,3)},getRandomId:function(){return e(0,6)},getRandomInterferenceId:function(){return e(0,10)}},l=(u.getRandomPause(),u.getRandomBlinking(),d.getCoordinates()),h=document.body.clientWidth,g=document.body.scrollHeight,m=r.getContext("2d"),f=i.getContext("2d"),b=document.getElementById("background-animation"),v=b.getContext("2d"),y=new Image,p=new Image;r.width=269,r.height=132,i.width=152,i.height=65;window.addEventListener("resize",function(){l=d.getCoordinates(),h=document.body.clientWidth,g=document.body.scrollHeight,o()}),o(),n.has(document.body,"home"),document.getElementById("show-live").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("live-box"),a=document.getElementById("content-box");n.remove(t,"hidden"),n.add(a,"hidden"),g=document.body.scrollHeight,h=document.body.clientWidth,o()}),document.getElementById("show-contact").addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("contact-box"),a=document.getElementById("content-box");n.remove(t,"hidden"),n.add(a,"hidden"),g=document.body.scrollHeight+10,h=document.body.clientWidth,o()});for(var w=document.querySelectorAll(".js-back-home"),k=0;k<w.length;k++)w[k].addEventListener("click",function(e){e.preventDefault();var t=document.getElementById("contact-box"),a=document.getElementById("live-box"),r=document.getElementById("content-box");n.remove(r,"hidden"),n.add(t,"hidden"),n.add(a,"hidden"),g=window.innerHeight,h=window.innerWidth,o()})}(),function(){var e={init:function(e,t,o){var a=SC.Widget(e);a.bind(SC.Widget.Events.READY,function(){n.remove(t,"invisible"),o.addEventListener("click",function(){n.has(this,"pause")?(this.innerHTML="Pause",n.remove(this,"pause"),a.play()):(a.pause(),this.innerHTML="Play",n.add(this,"pause"))})}),document.getElementById("next-track").addEventListener("click",function(e){a.seekTo(0),a.next()}),document.getElementById("previous-track").addEventListener("click",function(e){a.seekTo(0),a.prev()}),a.bind(SC.Widget.Events.PLAY_PROGRESS,function(){o.innerHTML="Pause"}),a.bind(SC.Widget.Events.PAUSE,function(){o.innerHTML="Play"}),a.bind(SC.Widget.Events.FINISH,function(){o.innerHTML="Play",n.add(o,"pause")})}};n.has(document.body,"home")&&e.init(document.getElementById("sc-widget"),document.getElementById("play-button-container"),document.getElementById("play-button"))}()});