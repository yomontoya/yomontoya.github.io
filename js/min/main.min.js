if(window.CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype.getImageData){var defaultOffsets={destX:0,destY:0,sourceX:0,sourceY:0,width:"auto",height:"auto"};CanvasRenderingContext2D.prototype.blendOnto=function(e,t,n){var a={};for(var i in defaultOffsets)defaultOffsets.hasOwnProperty(i)&&(a[i]=n&&n[i]||defaultOffsets[i]);"auto"==a.width&&(a.width=this.canvas.width),"auto"==a.height&&(a.height=this.canvas.height),a.width=Math.min(a.width,this.canvas.width-a.sourceX,e.canvas.width-a.destX),a.height=Math.min(a.height,this.canvas.height-a.sourceY,e.canvas.height-a.destY);for(var s,o,d,r,c,g,h,u,l,m,f=this.getImageData(a.sourceX,a.sourceY,a.width,a.height),p=e.getImageData(a.destX,a.destY,a.width,a.height),v=f.data,w=p.data,b=w.length,I=0;b>I;I+=4)switch(s=v[I+3]/255,o=w[I+3]/255,l=s+o-s*o,w[I+3]=255*l,d=v[I]/255*s,g=w[I]/255*o,r=v[I+1]/255*s,h=w[I+1]/255*o,c=v[I+2]/255*s,u=w[I+2]/255*o,m=255/l,t){case"normal":case"src-over":w[I]=(d+g-g*s)*m,w[I+1]=(r+h-h*s)*m,w[I+2]=(c+u-u*s)*m;break;case"screen":w[I]=(d+g-d*g)*m,w[I+1]=(r+h-r*h)*m,w[I+2]=(c+u-c*u)*m;break;case"multiply":w[I]=(d*g+d*(1-o)+g*(1-s))*m,w[I+1]=(r*h+r*(1-o)+h*(1-s))*m,w[I+2]=(c*u+c*(1-o)+u*(1-s))*m;break;case"difference":w[I]=(d+g-2*Math.min(d*o,g*s))*m,w[I+1]=(r+h-2*Math.min(r*o,h*s))*m,w[I+2]=(c+u-2*Math.min(c*o,u*s))*m;break;case"src-in":l=s*o,m=255/l,w[I+3]=255*l,w[I]=d*o*m,w[I+1]=r*o*m,w[I+2]=c*o*m;break;case"plus":case"add":l=Math.min(1,s+o),w[I+3]=255*l,m=255/l,w[I]=Math.min(d+g,1)*m,w[I+1]=Math.min(r+h,1)*m,w[I+2]=Math.min(c+u,1)*m;break;case"overlay":w[I]=.5>=g?2*v[I]*g/o:255-(2-2*g/o)*(255-v[I]),w[I+1]=.5>=h?2*v[I+1]*h/o:255-(2-2*h/o)*(255-v[I+1]),w[I+2]=.5>=u?2*v[I+2]*u/o:255-(2-2*u/o)*(255-v[I+2]);break;case"hardlight":w[I]=.5>=d?2*w[I]*d/o:255-(2-2*d/s)*(255-w[I]),w[I+1]=.5>=r?2*w[I+1]*r/o:255-(2-2*r/s)*(255-w[I+1]),w[I+2]=.5>=c?2*w[I+2]*c/o:255-(2-2*c/s)*(255-w[I+2]);break;case"colordodge":case"dodge":w[I]=255==v[I]&&0==g?255:Math.min(255,w[I]/(255-v[I]))*m,w[I+1]=255==v[I+1]&&0==h?255:Math.min(255,w[I+1]/(255-v[I+1]))*m,w[I+2]=255==v[I+2]&&0==u?255:Math.min(255,w[I+2]/(255-v[I+2]))*m;break;case"colorburn":case"burn":w[I]=0==v[I]&&0==g?0:(1-Math.min(1,(1-g)/d))*m,w[I+1]=0==v[I+1]&&0==h?0:(1-Math.min(1,(1-h)/r))*m,w[I+2]=0==v[I+2]&&0==u?0:(1-Math.min(1,(1-u)/c))*m;break;case"darken":case"darker":w[I]=(d>g?g:d)*m,w[I+1]=(r>h?h:r)*m,w[I+2]=(c>u?u:c)*m;break;case"lighten":case"lighter":w[I]=(g>d?g:d)*m,w[I+1]=(h>r?h:r)*m,w[I+2]=(u>c?u:c)*m;break;case"exclusion":w[I]=(g+d-2*g*d)*m,w[I+1]=(h+r-2*h*r)*m,w[I+2]=(u+c-2*u*c)*m;break;default:w[I]=w[I+3]=255,w[I+1]=I%8==0?255:0,w[I+2]=I%8==0?0:255}e.putImageData(p,a.destX,a.destY)};for(var modes=CanvasRenderingContext2D.prototype.blendOnto.supportedBlendModes="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken lighten exclusion".split(" "),supports=CanvasRenderingContext2D.prototype.blendOnto.supports={},i=0,len=modes.length;len>i;++i)supports[modes[i]]=!0}document.addEventListener("DOMContentLoaded",function(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var t={add:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},remove:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},has:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}};!function(){function t(){function e(){v.src="img/logo.jpg",v.onload=function(){m.drawImage(this,0,0),m.blendOnto(p,"multiply",h),t()}}function t(){d.getElement().width=1200,d.getElement().height=900,a.src=o.dataset.image,ctx_interference=d.getElement().getContext("2d"),a.onload=function(){}}var n=new Image,a=new Image;f.width=u,f.height=l,n.src=f.dataset.image,n.onload=function(){p.drawImage(this,0,0,u,l),e()}}function n(e,t){setTimeout(function(){m.drawImage(v,0,0),p.drawImage(e,0,0,u,l),m.blendOnto(p,"multiply",h)},t)}function a(e,t,n){setTimeout(function(){ctx_interference.drawImage(e,0,0);var t="multiply";(0===n||1===n)&&(t="colorburn");var a={destX:0,destY:0};switch(n){case 0:a={destX:0,destY:-200};break;case 1:a={destX:u-900,destY:-130}}ctx_interference.blendOnto(p,t,a)},t)}var i=document.getElementById("logo-placeholder"),s={offset_top:88,offset_left:150,getTop:function(){return Math.floor(window.innerHeight/2-this.offset_top)},getLeft:function(){return Math.floor(window.innerWidth/2-this.offset_left)},getElement:function(){return i},getCoordinates:function(){return{destX:this.getLeft(),destY:this.getTop()}}},o=document.getElementById("interference-placeholder"),d={getElement:function(){return o}},r={getRandomPause:function(){return e(2,4)},getRandomBlinking:function(){return e(1,3)},getRandomId:function(){return e(0,12)},getRandomInterferenceId:function(){return e(0,1)}},c=r.getRandomPause(),g=r.getRandomBlinking(),h=s.getCoordinates(),u=window.innerWidth,l=window.innerHeight,m=i.getContext("2d"),f=document.getElementById("background-animation"),p=f.getContext("2d"),v=new Image;i.width=310,i.height=129;var w={interval_id:"",start:function(){this.interval_id=setInterval(function(){var e=new Image,t=r.getRandomId(),a=new Image;e.src=f.dataset.image,a.src="img/background-"+t+".jpg",f.dataset.image="img/background-"+t+".jpg",a.onload=function(){n(this,100),n(e,200),n(this,300),1!=g&&(n(e,400),n(this,500),2!=g&&(n(e,600),n(this,700)))},c=r.getRandomPause(),g=r.getRandomBlinking()},1e3*c),setInterval(function(){var e=new Image,t=r.getRandomInterferenceId(),n=new Image;t!=o.dataset.image_id&&(e.src=o.dataset.image,n.src="img/interference-"+t+".jpg",o.dataset.image="img/interference-"+t+".jpg",o.dataset.image_id=t,n.onload=function(){a(this,0,t)})},1800)},stop:function(){clearInterval(this.interval_id)}};window.addEventListener("resize",function(){h=s.getCoordinates(),u=window.innerWidth,l=window.innerHeight,t()}),t(),w.start()}(),function(){var e=document.getElementById("sc-widget"),n=SC.Widget(e),a=document.getElementById("play-button");n.bind(SC.Widget.Events.READY,function(){t.remove(a,"hidden"),a.addEventListener("click",function(){t.has(this,"loading")||(t.has(this,"pause")?(this.innerHTML="Loading",t.add(this,"loading"),n.play()):(n.pause(),this.innerHTML="Play",t.add(this,"pause")))})}),n.bind(SC.Widget.Events.LOAD_PROGRESS,function(){a.innerHTML="Loading",t.add(a,"loading")}),n.bind(SC.Widget.Events.PLAY_PROGRESS,function(){a.innerHTML="Pause",t.remove(a,"loading")}),n.bind(SC.Widget.Events.PAUSE,function(){a.innerHTML="Play"}),n.bind(SC.Widget.Events.FINISH,function(){a.innerHTML="Play",t.add(a,"pause")})}()});